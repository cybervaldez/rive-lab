<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UI Preview - {{AESTHETIC}} + {{LAYOUT}}</title>
  <style>
    /* =================================================================
       Design Tokens - Generated by /ui-planner
       Replace {{TOKEN}} placeholders with aesthetic-specific values
       ================================================================= */

    :root {
      /* Color Primitives */
      --white: #ffffff;
      --black: #000000;
      --gray-50: #fafafa;
      --gray-100: #f5f5f5;
      --gray-200: #e5e5e5;
      --gray-300: #d4d4d4;
      --gray-400: #a3a3a3;
      --gray-500: #737373;
      --gray-600: #525252;
      --gray-700: #404040;
      --gray-800: #262626;
      --gray-900: #171717;
      --gray-950: #0a0a0a;

      /* Semantic Colors - Light Theme */
      --color-bg-primary: {{BG_PRIMARY_LIGHT}};
      --color-bg-secondary: {{BG_SECONDARY_LIGHT}};
      --color-bg-tertiary: {{BG_TERTIARY_LIGHT}};
      --color-text-primary: {{TEXT_PRIMARY_LIGHT}};
      --color-text-secondary: {{TEXT_SECONDARY_LIGHT}};
      --color-text-muted: {{TEXT_MUTED_LIGHT}};
      --color-accent: {{ACCENT}};
      --color-accent-hover: {{ACCENT_HOVER}};
      --color-success: #22c55e;
      --color-warning: #eab308;
      --color-error: #ef4444;
      --color-border: {{BORDER_LIGHT}};

      /* Typography */
      --font-heading: {{FONT_HEADING}};
      --font-body: {{FONT_BODY}};
      --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

      /* Type Scale (Major Third 1.250) */
      --text-xs: 0.64rem;
      --text-sm: 0.8rem;
      --text-base: 1rem;
      --text-lg: 1.25rem;
      --text-xl: 1.563rem;
      --text-2xl: 1.953rem;
      --text-3xl: 2.441rem;
      --text-4xl: 3.052rem;

      /* Line Heights */
      --leading-tight: 1.1;
      --leading-normal: 1.5;
      --leading-relaxed: 1.75;

      /* Spacing Scale */
      --space-1: 0.25rem;
      --space-2: 0.5rem;
      --space-3: 0.75rem;
      --space-4: 1rem;
      --space-5: 1.25rem;
      --space-6: 1.5rem;
      --space-8: 2rem;
      --space-10: 2.5rem;
      --space-12: 3rem;
      --space-16: 4rem;

      /* Border Radius */
      --radius-none: 0;
      --radius-sm: {{RADIUS_SM}};
      --radius-md: {{RADIUS_MD}};
      --radius-lg: {{RADIUS_LG}};
      --radius-full: 9999px;

      /* Shadows */
      --shadow-sm: {{SHADOW_SM}};
      --shadow-md: {{SHADOW_MD}};
      --shadow-lg: {{SHADOW_LG}};

      /* Transitions */
      --transition-fast: 150ms ease;
      --transition-base: 200ms ease;
      --transition-slow: 300ms ease;
    }

    /* Dark Theme Overrides */
    [data-theme="dark"] {
      --color-bg-primary: {{BG_PRIMARY_DARK}};
      --color-bg-secondary: {{BG_SECONDARY_DARK}};
      --color-bg-tertiary: {{BG_TERTIARY_DARK}};
      --color-text-primary: {{TEXT_PRIMARY_DARK}};
      --color-text-secondary: {{TEXT_SECONDARY_DARK}};
      --color-text-muted: {{TEXT_MUTED_DARK}};
      --color-border: {{BORDER_DARK}};
    }

    /* =================================================================
       Base Styles
       ================================================================= */

    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-body);
      font-size: var(--text-base);
      line-height: var(--leading-normal);
      background-color: var(--color-bg-primary);
      color: var(--color-text-primary);
      min-height: 100vh;
    }

    /* Reduced Motion Support */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* =================================================================
       Typography
       ================================================================= */

    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-heading);
      line-height: var(--leading-tight);
      color: var(--color-text-primary);
      margin-bottom: var(--space-4);
    }

    h1 { font-size: var(--text-4xl); }
    h2 { font-size: var(--text-3xl); }
    h3 { font-size: var(--text-2xl); }
    h4 { font-size: var(--text-xl); }

    p {
      margin-bottom: var(--space-4);
      color: var(--color-text-secondary);
    }

    small {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
    }

    code {
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      background: var(--color-bg-secondary);
      padding: var(--space-1) var(--space-2);
      border-radius: var(--radius-sm);
    }

    a {
      color: var(--color-accent);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover {
      color: var(--color-accent-hover);
    }

    /* =================================================================
       Components
       ================================================================= */

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-4);
      font-family: var(--font-body);
      font-size: var(--text-sm);
      font-weight: 500;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn:focus-visible {
      outline: 2px solid var(--color-accent);
      outline-offset: 2px;
    }

    .btn-primary {
      background: var(--color-accent);
      color: var(--white);
    }

    .btn-primary:hover {
      background: var(--color-accent-hover);
    }

    .btn-secondary {
      background: var(--color-bg-secondary);
      color: var(--color-text-primary);
      border: 1px solid var(--color-border);
    }

    .btn-secondary:hover {
      background: var(--color-bg-tertiary);
    }

    /* Input */
    .input {
      width: 100%;
      padding: var(--space-2) var(--space-3);
      font-family: var(--font-body);
      font-size: var(--text-base);
      background: var(--color-bg-secondary);
      color: var(--color-text-primary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      transition: border-color var(--transition-fast);
    }

    .input:focus {
      outline: none;
      border-color: var(--color-accent);
    }

    .input::placeholder {
      color: var(--color-text-muted);
    }

    /* Card */
    .card {
      background: var(--color-bg-secondary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      box-shadow: var(--shadow-sm);
    }

    .card-title {
      font-size: var(--text-lg);
      font-weight: 600;
      margin-bottom: var(--space-2);
    }

    .card-description {
      color: var(--color-text-secondary);
      font-size: var(--text-sm);
    }

    /* =================================================================
       Theme Toggle
       ================================================================= */

    .theme-toggle {
      position: fixed;
      top: var(--space-4);
      right: var(--space-4);
      z-index: 100;
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-3);
      background: var(--color-bg-secondary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-full);
      cursor: pointer;
      font-size: var(--text-sm);
      transition: all var(--transition-fast);
    }

    .theme-toggle:hover {
      background: var(--color-bg-tertiary);
    }

    .theme-toggle-icon {
      font-size: var(--text-lg);
    }

    [data-theme="light"] .theme-toggle-icon::before { content: "‚òÄÔ∏è"; }
    [data-theme="dark"] .theme-toggle-icon::before { content: "üåô"; }

    /* =================================================================
       Preview Layout
       ================================================================= */

    .preview-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--space-8);
    }

    .preview-section {
      margin-bottom: var(--space-12);
    }

    .preview-section-title {
      font-size: var(--text-sm);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-text-muted);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid var(--color-border);
    }

    /* Color Palette Display */
    .color-palette {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: var(--space-4);
    }

    .color-swatch {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .color-swatch-box {
      height: 60px;
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
    }

    .color-swatch-label {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
    }

    /* Typography Showcase */
    .typography-showcase {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    /* Component Grid */
    .component-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-4);
      align-items: flex-start;
    }

    /* Layout Demo */
    .layout-demo {
      border: 1px dashed var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-4);
      min-height: 300px;
    }

    /* =================================================================
       Layout-Specific Styles ({{LAYOUT}})
       ================================================================= */

    /* {{LAYOUT_SPECIFIC_CSS}} */

  </style>
</head>
<body>
  <!-- Theme Toggle -->
  <button
    data-testid="theme-toggle"
    class="theme-toggle"
    onclick="toggleTheme()"
  >
    <span class="theme-toggle-icon"></span>
    <span data-testid="theme-toggle-label">Toggle Theme</span>
  </button>

  <main class="preview-container" data-testid="main-content">

    <!-- Preview Header -->
    <header data-testid="preview-header" class="preview-section">
      <h1>{{AESTHETIC}} + {{LAYOUT}}</h1>
      <p>Visual design preview generated by <code>/ui-planner</code></p>
    </header>

    <!-- Typography Section -->
    <section data-testid="typography-section" class="preview-section">
      <div class="preview-section-title">Typography</div>
      <div class="typography-showcase">
        <h1 data-testid="heading-1">Heading 1 - The quick brown fox</h1>
        <h2 data-testid="heading-2">Heading 2 - jumps over the lazy dog</h2>
        <h3 data-testid="heading-3">Heading 3 - Pack my box with</h3>
        <h4 data-testid="heading-4">Heading 4 - five dozen liquor jugs</h4>
        <p data-testid="body-text">
          Body text - Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
        </p>
        <small data-testid="small-text">Small text - Caption or helper text</small>
        <code data-testid="code-text">const greeting = "Hello, World!";</code>
      </div>
    </section>

    <!-- Color Palette Section -->
    <section data-testid="color-palette" class="preview-section">
      <div class="preview-section-title">Color Palette</div>
      <div class="color-palette">
        <div class="color-swatch" data-testid="swatch-bg-primary">
          <div class="color-swatch-box" style="background: var(--color-bg-primary);"></div>
          <span class="color-swatch-label">Background Primary</span>
        </div>
        <div class="color-swatch" data-testid="swatch-bg-secondary">
          <div class="color-swatch-box" style="background: var(--color-bg-secondary);"></div>
          <span class="color-swatch-label">Background Secondary</span>
        </div>
        <div class="color-swatch" data-testid="swatch-accent">
          <div class="color-swatch-box" style="background: var(--color-accent);"></div>
          <span class="color-swatch-label">Accent</span>
        </div>
        <div class="color-swatch" data-testid="swatch-text-primary">
          <div class="color-swatch-box" style="background: var(--color-text-primary);"></div>
          <span class="color-swatch-label">Text Primary</span>
        </div>
        <div class="color-swatch" data-testid="swatch-text-secondary">
          <div class="color-swatch-box" style="background: var(--color-text-secondary);"></div>
          <span class="color-swatch-label">Text Secondary</span>
        </div>
        <div class="color-swatch" data-testid="swatch-success">
          <div class="color-swatch-box" style="background: var(--color-success);"></div>
          <span class="color-swatch-label">Success</span>
        </div>
        <div class="color-swatch" data-testid="swatch-warning">
          <div class="color-swatch-box" style="background: var(--color-warning);"></div>
          <span class="color-swatch-label">Warning</span>
        </div>
        <div class="color-swatch" data-testid="swatch-error">
          <div class="color-swatch-box" style="background: var(--color-error);"></div>
          <span class="color-swatch-label">Error</span>
        </div>
      </div>
    </section>

    <!-- Components Section -->
    <section data-testid="components-section" class="preview-section">
      <div class="preview-section-title">Components</div>
      <div class="component-grid">
        <button data-testid="btn-primary" class="btn btn-primary">Primary Button</button>
        <button data-testid="btn-secondary" class="btn btn-secondary">Secondary Button</button>
        <button data-testid="btn-primary-disabled" class="btn btn-primary" disabled>Disabled</button>
        <input data-testid="sample-input" class="input" type="text" placeholder="Text input" style="max-width: 200px;">
      </div>

      <div class="component-grid" style="margin-top: var(--space-6);">
        <div data-testid="sample-card" class="card" style="max-width: 300px;">
          <div class="card-title">Card Title</div>
          <p class="card-description">
            This is a sample card component demonstrating the design tokens
            applied to a common UI pattern.
          </p>
          <div style="margin-top: var(--space-4);">
            <button data-testid="card-action-btn" class="btn btn-primary">Action</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Layout Demo Section -->
    <section data-testid="layout-section" class="preview-section">
      <div class="preview-section-title">Layout Demo: {{LAYOUT}}</div>
      <div class="layout-demo" data-testid="layout-demo">
        <!-- {{LAYOUT_DEMO_CONTENT}} -->
        <p style="color: var(--color-text-muted); text-align: center; margin-top: var(--space-8);">
          Layout-specific content will be rendered here based on selection.
        </p>
      </div>
    </section>

    <!-- Spacing & Radius Demo -->
    <section data-testid="spacing-section" class="preview-section">
      <div class="preview-section-title">Spacing & Radius</div>
      <div class="component-grid">
        <div style="display: flex; gap: var(--space-2); align-items: flex-end;">
          <div style="width: 20px; height: 20px; background: var(--color-accent); border-radius: var(--radius-sm);" title="radius-sm"></div>
          <div style="width: 30px; height: 30px; background: var(--color-accent); border-radius: var(--radius-md);" title="radius-md"></div>
          <div style="width: 40px; height: 40px; background: var(--color-accent); border-radius: var(--radius-lg);" title="radius-lg"></div>
          <div style="width: 40px; height: 40px; background: var(--color-accent); border-radius: var(--radius-full);" title="radius-full"></div>
        </div>
      </div>
    </section>

  </main>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);

      // Log for E2E verification
      console.log('[ui-planner] Theme changed to:', next);
    }

    // Expose theme state for E2E testing
    window.__UI_PREVIEW__ = {
      getTheme: () => document.documentElement.getAttribute('data-theme'),
      setTheme: (theme) => document.documentElement.setAttribute('data-theme', theme),
      getToken: (name) => getComputedStyle(document.documentElement).getPropertyValue(name).trim()
    };
  </script>
</body>
</html>
